<div class="weather-card">
    <div class="weather-header">
        <div class="location-container">
            <fa-icon [icon]="['fas', 'map-marker-alt']"></fa-icon>
            <h3>{{ weather.location }}</h3>
        </div>
        <button *ngIf="showFavorite" class="favorite-btn" (click)="onToggleFavorite()"
            [title]="weather.isFavorite ? 'Xóa khỏi yêu thích' : 'Thêm vào yêu thích'">
            <fa-icon [icon]="weather.isFavorite ? ['fas', 'heart'] : ['far', 'heart']"></fa-icon>
        </button>
    </div>

    <div class="weather-content">
        <div class="weather-icon">
            <img [src]="weather.icon" [alt]="weather.condition">
        </div>

        <div class="weather-details">
            <p class="temperature">{{ weather.temp_c }}°C</p>
            <p class="condition">{{ weather.condition }}</p>

            <div class="weather-stats">
                <div class="stat-item">
                    <fa-icon [icon]="['fas', 'tint']"></fa-icon>
                    <span>{{ weather.humidity }}%</span>
                </div>
                <div class="stat-item">
                    <fa-icon [icon]="['fas', 'wind']"></fa-icon>
                    <span>{{ weather.wind_kph }} km/h</span>
                </div>
            </div>
        </div>
    </div>

    <div class="weather-footer">
        <p class="update-time">Cập nhật: {{ currentTime | date:'HH:mm' }}</p>
    </div>
</div>